@startuml
scale 600 width

[*] -> State1 : пришлел запрос на оплату
State1 : Created
State1 --> State2 : ушла на проверку антифрода
State2 : In progress

State2 --> State3 : пришел положительный ответ от антифрода
State3 : Approved

State2 --> State4 : пришел отрицательный ответ от антифрода
State4 : Rejected
State4 --> [*]

State3 --> State5 : ушла в банк
State5 : Pending

State5 --> State6 : пришел положительный ответ от банка
State6 : Authorized
State6 --> [*]

State6 --> State7 : пришел отрицательный ответ от банка
State7 : Declined
State7 --> [*]

State6 --> State8 : пришел запрос на отмену
State8 : Cancelled
State8 --> [*]
@enduml