@startuml

actor "Customer" as A
participant "Merchant platform" as B
participant "Payment Gateway" as C
database DB  #gold
participant "Card issued Bank" as H

"A" ->> "B": 1 Requests order cancellation
Activate A
Activate B
"B" ->> "C": 2 Transmits cancelation request
Activate C
"C" ->> "C": 3 Checks in DB which order should be canceleld
"C" ->> "H": 4 Requests for payment cancellation
Activate H
"C" <<-- "H": 5 Response with a status
Deactivate H
"B" <<-- "C": 6 Response with a status
Deactivate C
"A" <<-- "B": 7 Response with a status
Deactivate B
Deactivate A


@enduml